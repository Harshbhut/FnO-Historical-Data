import pandas as pd
import urllib.request
import json
from datetime import date, datetime
from data import *
import os

stocks = {0: 'AARTIIND', 1: 'ABBOTINDIA', 2: 'ABFRL', 3: 'ACC', 4: 'ADANIENT', 5: 'ADANIPORTS', 6: 'ALKEM', 7: 'AMARAJABAT', 8: 'AMBUJACEM', 9: 'APLLTD', 10: 'APOLLOHOSP', 11: 'APOLLOTYRE', 12: 'ASHOKLEY', 13: 'ASIANPAINT', 14: 'ASTRAL', 15: 'AUBANK', 16: 'AUROPHARMA', 17: 'AXISBANK', 18: 'BAJAJ-AUTO', 19: 'BAJAJFINSV', 20: 'BAJFINANCE', 21: 'BALKRISIND', 22: 'BANDHANBNK', 23: 'BANKBARODA', 24: 'BATAINDIA', 25: 'BEL', 26: 'BERGEPAINT', 27: 'BHARATFORG', 28: 'BHARTIARTL', 29: 'BHEL', 30: 'BIOCON', 31: 'BOSCHLTD', 32: 'BPCL', 33: 'BRITANNIA', 34: 'CADILAHC', 35: 'CANBK', 36: 'CANFINHOME', 37: 'CHOLAFIN', 38: 'CIPLA', 39: 'COALINDIA', 40: 'COFORGE', 41: 'COLPAL', 42: 'CONCOR', 43: 'COROMANDEL', 44: 'CROMPTON', 45: 'CUB', 46: 'CUMMINSIND', 47: 'DABUR', 48: 'DALBHARAT', 49: 'DEEPAKNTR', 50: 'DELTACORP', 51: 'DIVISLAB', 52: 'DIXON', 53: 'DLF', 54: 'DRREDDY', 55: 'EICHERMOT', 56: 'ESCORTS', 57: 'EXIDEIND', 58: 'FEDERALBNK', 59: 'GAIL', 60: 'GLENMARK', 61: 'GMRINFRA', 62: 'GODREJCP', 63: 'GODREJPROP', 64: 'GRANULES', 65: 'GRASIM', 66: 'GUJGASLTD', 67: 'HAL', 68: 'HAVELLS', 69: 'HCLTECH', 70: 'HDFC', 71: 'HDFCAMC', 72: 'HDFCBANK', 73: 'HDFCLIFE', 74: 'HEROMOTOCO', 75: 'HINDALCO', 76: 'HINDPETRO', 77: 'HINDUNILVR', 78: 'IBULHSGFIN', 79: 'ICICIBANK', 80: 'ICICIGI', 81: 'ICICIPRULI', 82: 'IDEA', 83: 'IDFCFIRSTB', 84: 'IEX', 85: 'IGL', 86: 'INDHOTEL', 87: 'INDIACEM', 88: 'INDIAMART', 89: 'INDIGO',
          90: 'INDUSINDBK', 91: 'INDUSTOWER', 92: 'INFY', 93: 'IOC', 94: 'IPCALAB', 95: 'IRCTC', 96: 'ITC', 97: 'JINDALSTEL', 98: 'JKCEMENT', 99: 'JSWSTEEL', 100: 'JUBLFOOD', 101: 'KOTAKBANK', 102: 'L&TFH', 103: 'LALPATHLAB', 104: 'LICHSGFIN', 105: 'LT', 106: 'LTI', 107: 'LTTS', 108: 'LUPIN', 109: 'M&M', 110: 'M&MFIN', 111: 'MANAPPURAM', 112: 'MARICO', 113: 'MARUTI', 114: 'MCDOWELL-N', 115: 'MCX', 116: 'METROPOLIS', 117: 'MFSL', 118: 'MGL', 119: 'MINDTREE', 120: 'MOTHERSUMI', 121: 'MPHASIS', 122: 'MRF', 123: 'MUTHOOTFIN', 124: 'NAM-INDIA', 125: 'NATIONALUM', 126: 'NAUKRI', 127: 'NAVINFLUOR', 128: 'NESTLEIND', 129: 'NMDC', 130: 'NTPC', 131: 'OBEROIRLTY', 132: 'OFSS', 133: 'ONGC', 134: 'PAGEIND', 135: 'PEL', 136: 'PERSISTENT', 137: 'PETRONET', 138: 'PFC', 139: 'PFIZER', 140: 'PIDILITIND', 141: 'PIIND', 142: 'PNB', 143: 'POLYCAB', 144: 'POWERGRID', 145: 'PVR', 146: 'RAMCOCEM', 147: 'RBLBANK', 148: 'RECLTD', 149: 'RELIANCE', 150: 'SAIL', 151: 'SBILIFE', 152: 'SBIN', 153: 'SHREECEM', 154: 'SIEMENS', 155: 'SRF', 156: 'SRTRANSFIN', 157: 'STAR', 158: 'SUNPHARMA', 159: 'SUNTV', 160: 'SYNGENE', 161: 'TATACHEM', 162: 'TATACONSUM', 163: 'TATAMOTORS', 164: 'TATAPOWER', 165: 'TATASTEEL', 166: 'TCS', 167: 'TECHM', 168: 'TITAN', 169: 'TORNTPHARM', 170: 'TORNTPOWER', 171: 'TRENT', 172: 'TVSMOTOR', 173: 'UBL', 174: 'ULTRACEMCO', 175: 'UPL', 176: 'VEDL', 177: 'VOLTAS', 178: 'WIPRO', 179: 'ZEEL'}

for item in stocks.items():
    print(item)


while True:
    stk_name = input(
        "Please Enter Number from Above List to Fetch the Stock Data || type 'exit' for Stop || Hit Enter for All Stocks\n")
    if stk_name == 'exit':
        break
    if stk_name == '':
        for item in stocks.values():
            get_data(item)
    else:
        get_data(stocks.get(int(stk_name)))
